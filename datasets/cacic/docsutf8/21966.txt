SSSTree v2 0 b√∫squeda por similitud en espacios m√©tricos con solapamientos de planos
Ôªø. Sparse Spatial Sele
tion is a new pivot-based stru
ture for similarity sear
h in metri
 spa
es. It
is a array-type stru
ture whi
h has shown a good sear
h performan
e when 
ompared with other sele
tion
methods.
This work 
onsiders SSS as a general method for pivot or 
enter sele
tion and des
ribes the building of a new

lustering-based metri
 stru
ture organized as a tree built using SSS. Experimental results show that it presents
a better performan
e, in terms of the number of evaluations of the distan
e fun
tion, than other well-known
stru
tures.
Keywords: Databases, data stru
tures, algorithms, metri
 spa
es, similarity queries.
Resumen Sparse Spatial Sele
tion es una nueva estru
tura basada en pivotes para b√∫squeda por similitud
en espa
ios m√©tri
os. Esta estru
tura es del tipo arreglo y ha demostrado un buen rendimiento durante la
b√∫squeda 
omparado 
on otros m√©todos de sele

i√≥n.
El presente trabajo 
onsidera al SSS 
omo un m√©todo general para la sele

i√≥n de 
entros o pivotes y des
ribe la

onstru

i√≥n de una nueva estru
tura m√©tri
a, basada en 
lustering y del tipo √°rbol la que es 
onstruida usando
SSS. Los resultados experimentales demuestran que tiene mejor desempe√±o, en t√©rminos de evalua
iones de
distan
ia, que mu
has otras estru
turas 
ono
idas.
Palabras 
laves: bases de datos, estru
turas de datos, algoritmos, espa
ios m√©tri
os, 
onsultas por similitud.
1. Introdu

i√≥n
1.1. Ante
edentes
Uno de los problemas de gran inter√©s en 
ien
ias de la 
omputa
i√≥n es el de b√∫squeda por
similitud, es de
ir, en
ontrar los elementos de un 
onjunto m√°s similares a una muestra. Esta
b√∫squeda es ne
esaria en m√∫ltiples apli
a
iones, 
omo ser en re
ono
imiento de voz e imagen,

ompresi√≥n de video, gen√©ti
a, miner√≠a de datos, re
upera
i√≥n de informa
i√≥n, et
. En 
asi todas
las apli
a
iones la evalua
i√≥n de la similitud entre dos elementos es 
ara, por lo que usualmente se
trata 
omo medida del 
osto de la b√∫squeda la 
antidad de similitudes que se eval√∫an.
Interesa el 
aso donde la similitud des
ribe un espa
io m√©tri
o, es de
ir, est√° modelada por una
fun
i√≥n de distan
ia que respeta la desigualdad triangular. En este 
aso, el problema m√°s 
om√∫n y
dif√≠
il es en aquellos espa
ios de alta dimensi√≥n donde el histograma de distan
ias es 
on
entrado,
es de
ir, todos los objetos est√°n m√°s o menos a la misma distan
ia unos de otros.
*
Par
ialmente nan
iado por programa de investiga
i√≥n PR-F1-02IC-08, Universidad de Magallanes, Chile y proye
to de
investiga
i√≥n 29/C035/1, Unidad A
ad√©mi
a de R√≠o Turbio, Universidad Na
ional de la Patagonia Austral, Argentina.
El aumento de tama√±o de las bases de datos y la apari
i√≥n de nuevos tipos de datos sobre los

uales no interesa realizar b√∫squedas exa
tas, 
rean la ne
esidad de plantear nuevas estru
turas
para b√∫squeda por similitud o b√∫squeda aproximada, esto en bus
a de superar los problemas de las
estruturas existentes hasta ahora. Asimismo, se ne
esita que di
has estru
turas sean din√°mi
as,
es de
ir, que permitan agregar o eliminar elementos sin ne
esidad de 
rearlas nuevamente. As√≠
tambi√©n, las apli
a
iones reales requieren que di
has estru
turas permitan ser alma
enadas en
memoria se
undaria e
ientemente, 
omo tambi√©n que posean m√©todos optimizados para redu
ir
los 
ostos de a

esos a dis
o. Adi
ionalmente, el m√©todo elegido en las estru
turas para la ele

i√≥n
de 
entros y pivotes resulta relevante al momento de des
artar elementos durante la b√∫squeda.
1.2. Mar
o Te√≥ri
o
La similitud, en mu
hos 
asos, es modelada a trav√©s de un espa
io m√©tri
o y la b√∫squeda de
objetos m√°s similares bajo una fun
i√≥n 
onveniente de similitud, a trav√©s de una b√∫squeda por
rango o ve
inos m√°s 
er
anos.
Deni
i√≥n 1 (Espa
ios M√©tri
os): Un espa
io m√©tri
o es un 
onjunto X 
on una fun
i√≥n de
distan
ia d : X2 ‚Üí R, tal que ‚àÄx, y, z ‚àà X,
1. d(x, y) ‚â• 0 and d(x, y) = 0 ssi x = y. (positividad)
2. d(x, y) = d(y, x). (Simetr√≠a)
3. d(x, y) + d(y, z) ‚â• (d(x, z). (Desigualdad Triangular)
Deni
i√≥n 2 (Consulta por Rango): Sea un espa
io m√©tri
o (X,d), un 
onjunto de datos nito
Y ‚äÜ X, una 
onsulta x ‚àà X, y un rango r ‚àà R. La 
onsulta de rango alrededor de x 
on rango
r es el 
onjunto de puntos y ‚àà Y, tal que d(x, y) ‚â§ r.
Deni
i√≥n 3 (Los k Ve
inos m√°s Cer
anos): Sea un espa
io m√©tri
o (X,d)un 
onjunto de
datos nito Y ‚äÜ X, una 
onsulta x ‚àà X y un entero k. Los k ve
inos m√°s 
er
anos a x son un
sub
onjunto A de objetos de Y, donde la |A| = k y no existe un objeto y ‚àà A tal que d(y,x)
sea menor a la distan
ia de alg√∫n objeto de A a x.
La implementa
i√≥n trivial de la b√∫squeda por similitud 
onsiste en 
omparar la 
onsulta 
on
todos los objetos de la 
ole

i√≥n. El problema es que, en general, la evalua
i√≥n de la fun
i√≥n
de distan
ia tiene un 
oste 
omputa
ional elevado que ha
e que la b√∫squeda se
uen
ial sea muy
ine
iente. Esto ha dado lugar a una gran 
antidad de trabajos en indexa
i√≥n y b√∫squeda en
espa
ios m√©tri
os, que tratan de ha
erla m√°s e
iente y poder as√≠ apli
arla en grandes 
ole

iones
de datos. El objetivo de los algoritmos de indexa
i√≥n es redu
ir el n√∫mero de evalua
iones de la
fun
i√≥n de distan
ia durante los pro
esos de b√∫squeda, aunque pagando alg√∫n 
osto adi
ional en el
pro
eso de 
onstru

i√≥n. Esto se logra manteniendo en el √≠ndi
e informa
i√≥n que, dada la 
onsulta,
permita des
artar una gran 
antidad de objetos sin 
ompararlos dire
tamente 
on la 
onsulta. Para
ello se utilizan las propiedades de espa
ios m√©tri
os 
omo la desigualdad triangular.
Existen dos grandes enfoques que determinan los algoritmos de b√∫squeda en espa
ios m√©tri
os
generales:
Algoritmos Basados en Pivotes : En los algoritmos basados en pivotes se sele

iona un

onjunto de k pivotes {p1, p2, . . . , pk} ‚àà Y. En tiempo de indexamiento, para 
ada objeto x
de la base de datos Y se 
al
ula y alma
ena su distan
ia a los k pivotes (d(x, p1), . . . , d(x, pk)).
Si para alg√∫n pivote pi no se 
umple (1), enton
es por desigualdad triangular se 
ono
e que
d(q, x) > r y por lo tanto, no es ne
esario evaluar expli
itamente d(x, q). Todos los objetos que
no se puedan des
artar por esta regla deben ser 
omparados dire
tamente 
on la 
onsulta.
|d(q, pi) ‚àí d(x, pi)| ‚â§ r, ‚àÄi = i...k (1)
Algoritmos Basados en Clustering : Los algoritmos basados en 
lustering dividen el espa
io
en √°reas, donde 
ada √°rea tiene un 
entro o split. Se alma
ena alguna informa
i√≥n sobre el √°rea
que permita des
artarla 
ompletamente mediante s√≥lo 
omparar la 
onsulta 
on su 
entro.
Existen varios 
riterios para determinar las √°reas en las estru
turas basadas en 
lustering:
Criterio de parti
i√≥n de Voronoi: Se sele

iona un 
onjunto de puntos y se 
olo
a 
ada punto
restante dentro de la regi√≥n 
on el 
entro m√°s 
er
ano. Las √°reas se delimitan 
on hiperplanos
y las zonas son an√°logas a las regiones de Voronoi en espa
ios ve
toriales.
Deni
i√≥n (Diagrama de Voronoi): 
onsiderese un 
onjunto de puntos {c1, c2, ..., cm}
(
entros). Se dene el diagrama de Voronoi 
omo la subdivisi√≥n del plano en m √°reas, por

ada ci. La q pertene
e al √°rea si y s√≥lo si la distan
ia eu
lidiana d(q, ci) ‚â§ d(q, cj) para 
ada
cj, 
on j 6= i.
Durante la b√∫squeda se eval√∫a d(q, c1), ..., d(q, cm), se elige 
omo 
entro ci m√°s 
er
ano y se
des
artan todas las zonas cj que 
umplan 
on d(q, cj) > d(q, ci) + 2r, dado que su √°rea de
Voronoi no puede interse
tar la bola de 
onsulta 
on 
entro q y radio r. Se entiende por bola
de 
onsulta al 
onjunto de objetos que est√° a distan
ia m√°xima r de q.
Criterio de radio 
obertor: El radio 
obertor rc(ci) es la distan
ia entre el 
entro ci y el objeto
m√°s alejado dentro de su zona. Enton
es se puede des
artar la zona ci si d(q, ci) ‚àí r > rc(ci).
Algunas estru
turas 
ombinan estas t√©
ni
as, 
omo el 
aso del GNAT [1‚ÑÑ. Otras s√≥lo utilizan radio

obertor, 
omo los M-trees [3‚ÑÑ, Lista de Clusters [2‚ÑÑ. Algunas que utilizan hiperplanos son GHT y
sus variantes [8,6‚ÑÑ y los Vorinoi trees [4,5‚ÑÑ.
Por lo general, las estru
turas dise√±adas para realizar b√∫squedas por similitud en espa
ios
m√©tri
os no denen un 
riterio para sele

ionar 
entros o pivotes. Sin embargo, una buena ele

i√≥n
de un 
onjunto 
entros o pivotes puede aumentar el rendimiento en los pro
esos de b√∫squeda.
En el siguiente trabajo se presenta un estru
tura m√©tri
a dise√±ada en t√©rminos de los 
entros
sele

ionados, para ello se utiliza 
omo base un m√©todo de sele

i√≥n de 
entros o pivotes denominado
SSS .
2. Sparse Spatial Sele
tion Tree (SSSTree)
2.1. Sparse Spatial Sele
tion (SSS)
Sparse Spatial Sele
tion [7‚ÑÑ es un nuevo m√©todo de b√∫squeda basado en pivotes. El prin
ipal
aporte de este m√©todo es la estrategia de sele

i√≥n de pivotes. A diferen
ia de otros, en los que
los pivotes de referen
ia se eligen de forma aleatoria, √©ste m√©todo sele

iona un 
onjunto din√°mi
o
de pivotes bien distribuidos en el espa
io, lo que permite des
artar m√°s objetos al momento de
realizar el pro
eso de b√∫squeda. Adem√°s el 
onjunto de pivotes es din√°mi
o, en el sentido de que
es 
apaz de adaptarse al 
re
imiento de la base de datos sin que su e
ien
ia quede redu
ida.
Estrategia de sele

i√≥n de pivotes Sea (X, d) un espa
io m√©tri
o, Y ‚äÇ X y M la distan
ia
m√°xima entre dos objetos 
ualesquiera, M = max{d(x, y)/x, y ‚àà Y}. Ini
ialmente el 
onjunto de
pivotes est√° formado por el primer elemento de la 
ole

i√≥n. Despu√©s, 
ada elemento xi ‚àà Y se
sele

iona 
omo pivote si y s√≥lo s√≠ est√° a una distan
ia mayor o igual a M ‚àó Œ± de todos los pivotes
ya sele

ionados, siendo Œ± una 
onstante 
uyos valores √≥ptimos est√°n en torno a 0.4 [7‚ÑÑ. Es de
ir,
un objeto de la base de datos se toma 
omo pivote si est√° situado a m√°s de una fra

i√≥n de la
distan
ia m√°xima de todos los pivotes (ver algoritmo 1 y gura 1).
Algoritmo 1 Sele

i√≥n de Pivotes
PIV OTES ‚áê {x1}
for all xi ‚àà Y do
if ‚àÄ p ‚àà PIV OTES, d(xi, p) ‚â• M ‚àó Œ± then
PIV OTES ‚áê PIV OTES ‚à™ {xi}
end if
end for
MM
d
C
C
C
C
C
d
C
Figura 1. Representa
i√≥n de un espa
io m√©tri
o. M : distan
ia entre los dos objetos m√°s alejados
de la base de datos, la distan
ia entre los pivotes (d) es siempre mayor a M * Œ±.
2.2. Sparse Spatial Sele
tion Tree Versi√≥n 1.0
SSSTree v1.0 es un √°rbol basado en 
lustering, que divide el espa
io a trav√©s de Parti
iones de
Voronoi y utiliza SSS para sele

ionar los 
entros para 
ada nodo. Adem√°s utiliza bolsas o bu
kets
auxiliares para poder 
al
ular el valor del par√°metro M . El valor de M es ne
esario para poder
dividir el espa
io sin que √©ste quede sobredimensionado y as√≠ obtener un mayor rendimiento en los
pro
esos de b√∫squeda. Las bolsas o bu
ket tambi√©n son utilizadas para alma
enar los objetos que
no son 
entros y luego reinsertarlos sobre la Parti
i√≥n de Voronoi a la que pertene
en.
La prin
ipal desventaja de √©ste m√©todo es que al momento de 
al
ular el valor del par√°metro M
y al reinsertar los objetos restantes sobre la Parti
ion de Voronoi a la que pertene
en se realizan
una gran 
antidad de evalua
iones de distan
ia ha
iendo sumamente ine
iente la 
onstru

i√≥n
y/o reinser
i√≥n de objetos sobre la estru
tura.
3. Sparse Spatial Sele
tion Tree 
on Solapamiento de Planos
El presente trabajo 
onsidera al SSS 
omo m√©todo general de sele

i√≥n de 
entros tanto 
omo
de pivotes. El art√≠
ulo presenta al SSSTree v2.0, que es una estru
tura m√©tri
a del tipo √°rbol basada
en 
lustering o parti
iones 
ompa
tas en la 
ual la ele

i√≥n de 
entros para 
ada nodo es efe
tuada
por medio de la t√©
ni
a SSS y adem√°s utiliza en 
riterio de radio 
obertor para delimitar 
ada
subespa
io. Lo interesante de √©sta estru
tura es que no es ne
esario la utiliza
i√≥n de estru
turas
auxiliares durante el pro
eso de 
onstru

i√≥n(a diferen
ia de la versi√≥n 1.0).
3.1. Constru

i√≥n
Ini
ialmente, se extr√°e un objeto de la base de datos, posteriormente se 
rea un nodo va
√≠o,
di
ho objeto es 
onsiderado 
omo primer 
entro del nodo y se alma
ena el valor M ‚àóŒ± 
omo radio

obertor del subespa
io al 
ual representa di
ho objeto. Luego, para 
ada objeto de la base de
datos se 
al
ula su distan
ia a 
ada uno de los 
entros, si la distan
ia a 
ada uno de los 
entros es
mayor a M ‚àó Œ± el objeto es 
onsiderado 
omo un nuevo 
entro para el nodo anteriomente 
reado,
de lo 
ontrario, se inserta en el primer 
luster 
uya distan
ia al 
entro sea menor o igual a M ‚àó Œ±,
respetando el orden de inser
i√≥n de 
entros en di
ho nodo.
Finalmente, este pro
eso se realiza re
ursivamente para 
ada subespa
io hasta que todos objetos
de la base de datos se han insertado en alg√∫n nodo.
Esto puede 
ausar prin
ipalmente que un subespa
io tenga 
on
entrado una gran 
antidad de
objetos en 
ompara
i√≥n a los subespa
ios 
ontiguos, 
omo se puede apre
iar en la Figura 2.
r = M * alfa
r = M * alfa
r = M * alfa
r = M * alfa
r = M * alfa
r = M * alfa
r = M * alfa
Figura 2. Solapamiento de Subespa
ios.
3.2. Estima
i√≥n del C√°l
ulo de M para los Subespa
ios
Como M es la distan
ia entre los dos objetos m√°s alejados del espa
io, se 
umple que M ‚â§ 2‚àóRC
, donde el radio 
obertor RC es la distan
ia entre el 
entro y el objeto m√°s alejado a √©ste en el
mismo subespa
io. Esta desigualdad es √∫til porque permite eliminar el 
√°l
ulo de M (Pruebas de
esto se realizaron sobre el egnat 
on ex
elente resultados, no publi
ado).
MRC
RC
Figura 3. Optimiza
i√≥n para el 
√°l
ulo de M .
Como se puede apre
iar en la gura anterior, si se utiliza 2 ‚àóRC 
omo di√°metro de la regi√≥n,
tambi√©n se logra abar
ar los mismos objetos 
omo al utilizar M 
omo di√°metro. Como el valor de
2‚àóRC supera o iguala al valor M , 
ubre una regi√≥n m√°s amplia, esto puede afe
tar la distribu
i√≥n de
los 
entros lo 
ual puede perjudi
ar la b√∫squeda, sin embargo, disminuye los 
ostos de 
onstru

i√≥n.
3.3. B√∫squeda
Para des
artar √°reas durante la b√∫squeda, el SSSTree utiliza el 
riterio de radio 
obertor:
El radio 
obertor rc(ci) es la distan
ia entre el 
entro ci y el objeto m√°s alejado dentro de su
zona. Enton
es, se puede des
artar 
ompletamente la zona ci si d(q, ci) ‚àí r > rc(ci).
La gura 6 muestra los resultados experimentales para la b√∫squeda en ambos espa
ios. En el
espa
io de Gauss, los valores gra
ados 
orresponden a los rangos que permiten re
uperar el 0,01,
el 0,1 y el 1%.
De los gr√°
os de b√∫squeda se puede ver 
laramente que el nuevo m√©todo aventaja a las
estru
turas MTree, GNAT y EGNAT. En el espa
io de Gauss el SSSTree tiene un desempe√±o
similar o mejor al EGNAT para menores radios de b√∫squeda, pero de
re
e 
on el aumento de los
radios de b√∫squeda, es de
ir, en el espa
io de palabras, 
uya dimensi√≥n intr√≠nse
a es elevada,
la nueva estru
tura se 
omporta mejor que para dimensiones m√°s bajas, logrando diferen
ias
extremadamente notorias. La gura 7 muestra los resultados 
omparativos 
on el EGNAT para
dos espa
ios de im√°genes.
3.4. Datos Experimentales
Para validar el 
omportamiento y e
ien
ia de la estru
tura formulada en este trabajo, se han
realizado diversas pruebas, 
on distintas 
ole

iones de objetos. A 
ontinua
i√≥n se des
ribir√°n las

ole

iones de datos utilizadas en las distintas pruebas.
Cole

i√≥n de palabras: En este 
aso se trata de un espa
io m√©tri
o real, una 
ole

i√≥n de 86.061
palabras extra√≠das del di

ionario espa√±ol.
Espa
ios ve
toriales sint√©ti
os: Cole

i√≥n de 100.000 ve
tores de dimensi√≥n 10, 
reados
sint√©ti
amente, 
on distribu
i√≥n gaussiana.
Cole

iones de im√°genes: La primera es una 
ole

i√≥n de 40.700 imagenes extra√≠das de los
ar
hivos de im√°genes y videos de la NASA. La segunda 
ole

i√≥n 
orresponde a 1.000 im√°genes
representadas 
omo ve
tores de dimensi√≥n 3.084.
Los experimentos fueron realizados para 
ada versi√≥n de la estru
tura 
on 
ada espa
io des
rito
anteriormente. Adem√°s, los pro
esos de 
ostru

i√≥n son realizados utilizando el 90% del total de los
objetos de 
ada base de datos y los pro
esos de b√∫squeda son realizados utilizando 
omo 
onsultas
el 10% restante.
3.5. Resultados Experimentales Preliminares
Resultados de Constru

i√≥n En esta se

i√≥n se presentan resultados de pruebas preliminares
que 
omparan el rendimiento de la 
onstru

i√≥n del SSSTree v2.0 en 
ompara
i√≥n a su versi√≥n
anterior.
 0
 5e+07
 1e+08
 1.5e+08
 2e+08
 2.5e+08
 3e+08
 3.5e+08
 4e+08
 0  10  20  30  40  50  60  70  80  90
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Porcentaje de construcci√≥n
Costo de Construcci√≥n Total (86061, dic. espa√±ol)
ssstree v1.0
ssstree v2.0
(a) Di

ionario en Espa√±ol.
 0
 1e+08
 2e+08
 3e+08
 4e+08
 5e+08
 6e+08
 7e+08
 8e+08
 0  10  20  30  40  50  60  70  80  90
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Porcentaje de Construcci√≥n
Costo de Construcci√≥n (n=100000, gauss dim 10)
ssstree v1.0
ssstree v2.0
(b) Gauss Dimensi√≥n 10.
 0
 5e+06
 1e+07
 1.5e+07
 2e+07
 2.5e+07
 3e+07
 3.5e+07
 4e+07
 0  10  20  30  40  50  60  70  80  90
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Porcentaje de Construcci√≥n
Costo de Construcci√≥n (n=40700, Vectores Dim 20)
ssstree v1.0
ssstree v2.0
(
) Ve
tores Dimensi√≥n 20.
 0
 100000
 200000
 300000
 400000
 500000
 600000
 700000
 0  10  20  30  40  50  60  70  80  90
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Porcentaje de Construcci√≥n
Costo de Construcci√≥n (n=1000, Vectores Dim 3084)
ssstree v1.0
ssstree v2.0
(d) Gauss Dimensi√≥n 3084.
Figura 4. SSSTree: Gr√°
os 
omparativos para la 
onstru

i√≥n (SSSTree v2.0 y SSSTree v1.0).
Como se puede apre
iar en la gura 4, la nueva versi√≥n logra redu
ir 
onsiderablemente los

√°l
ulos de distan
ia durante los pro
esos de 
onstru

i√≥n en 
ompara
i√≥n a la versi√≥n anterior.
Resultados de B√∫squeda En esta se

i√≥n se presentan resultados de pruebas preliminares que

omparan el rendimiento de la b√∫squeda del SSSTree v2.0 en 
ompara
i√≥n a su su versi√≥n anterior.
 5000
 10000
 15000
 20000
 25000
 30000
 35000
 40000
1 2 3 4
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=86061, dic. espa√±ol)
ssstree v1.0
ssstree v2.0
(a) Di

ionario en Espa√±ol.
 20000
 30000
 40000
 50000
 60000
 70000
 80000
0.01 0.10 1.00
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=100000, gauss dim 10)
ssstree v1.0
ssstree v2.0
(b) Gauss Dimensi√≥n 10.
 18000
 20000
 22000
 24000
 26000
 28000
0.01 0.1 1
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=40700, Vectores Dim 20)
ssstree v1.0
ssstree v2.0
(
) Ve
tores Dimensi√≥n 20.
 63000
 63500
 64000
 64500
 65000
 65500
 66000
 66500
 67000
0.10 1.00
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=1000, Vectores Dim 3084)
ssstree v1.0
ssstree v2.0
(d) Gauss Dimensi√≥n 3084.
Figura 5. SSSTree: Gr√°
os 
omparativos para la b√∫squeda (SSSTree v2.0 y SSSTree v1.0).
Como se puede apre
iar en los gr√°
os 5(a), 5(b) y 5(
), la 
antidad de evalua
iones de distan
ia
es similar a su versi√≥n anterior, en 
ambio en el gr√°
o 5(d) 
orrespondiente a las im√°genes
de dimensi√≥n 3084 la diferen
ia es mayor, esto debido probablemente a que los objetos de este
espa
io est√°n m√°s 
on
entrados y al estimar el valor de M 
ada subespa
io queda ampliamente
sobredimensionado.
A 
ontinua
i√≥n se presentan resultados de pruebas preliminares que 
omparan el rendimiento
del SSSTree 
on solapamiento en el pro
eso de b√∫squeda 
on otras estru
turas basadas en 
lustering

ono
idas.
 10000
 20000
 30000
 40000
 50000
 60000
 70000
4321
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=86061, dic. espa√±ol)
ssstree v2.0
egnat
gnat
mtree
(a) Di

ionario en Espa√±ol.
 20000
 30000
 40000
 50000
 60000
 70000
 80000
0.01 0.10 1.00
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=100000, gauss dim 10)
ssstree v2.0
egnat
gnat
mtree
(b) Gauss Dimensi√≥n 10.
Figura 6. SSSTree: Gr√°
os 
omparativos para la b√∫squeda (MTree v/s GNAT v/s EGNAT v/s
SSSTree).
 18000
 20000
 22000
 24000
 26000
 28000
10.10.01
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=40700, Vectores Dim 20)
ssstree v2.0
egnat
(a) Ve
tores Dimensi√≥n 20.
 66000
 68000
 70000
 72000
 74000
 76000
 78000
 80000
 82000
0.10 1.00
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=1000, Vectores Dim 3084)
ssstree v2.0
egnat
(b) Gauss Dimensi√≥n 3084.
Figura 7. SSSTree: Gr√°
os 
omparativos para la b√∫squeda (EGNAT v/s SSSTree).
Como se puede apre
iar en los gr√°
os 6 y 7, esta nueva implementa
i√≥n del SSSTree mantiene
los buenos resultados obtenidos en 
ompara
i√≥n a otras estru
turas ya 
ono
idas 
omo son el
GNAT, EGNAT y MTree.
3.6. Otras T√©
ni
as Apli
adas
Una t√©
ni
a utilizada en [9‚ÑÑ 
on buenos resultados, fue 
ombinar el uso de la Distan
ia al
Padre al estilo de estru
turas basadas en pivotes. En este 
aso, 
ada nodo alma
ena la distan
ia al

entro del plano al que pertene
en, 
on el objetivo de dis
riminar adi
ionalmente objetos durante
la b√∫squeda utilizando la desigualdad (1).
Una segunda t√©
ni
a que es posible utilizar en SSSTree 
on Solapamiento de Planos, es
el uso de Propiedades de la Lista de Clusters [2‚ÑÑ. Mediante la utiliza
i√≥n de esta t√©
ni
a es
posible dis
riminar todos los 
lusters 
ontiguos, siempre y 
uando la 
onsulta est√© 
ompletamente

ontenida en un √∫ni
o 
luster (ver gura 8).
rq
rq
rqq1
q2
q3
rc
center
Figura 8. Propiedades de la Lista de Clusters.
Como experimentalmente, tanto 
omo la utiliza
i√≥n de la Distan
ia al Padre, 
omo las
Propiedades de Lista de Cluster, permitieron disminuir la 
antidad de evalua
iones de distan
ia en
los pro
esos de b√∫squeda en 
ompara
i√≥n a su implementa
i√≥n original, se de
idi√≥ utilizar estas
dos propiedades 
ombinadas para obtener mejores resultados(ver gura 9).
 5000
 10000
 15000
 20000
 25000
 30000
 35000
1 2 3 4
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=86061, Diccionario Espa√±ol)
SSSTree v2.0 alfa 0.3
SSSTree v2.0LCDP alfa 0.3
(a) Di

ionario en Espa√±ol.
 25000
 30000
 35000
 40000
 45000
 50000
0.01 0.1 1
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=100000 Gauss Dim 10)
SSSTree v2.0 alfa 0.35
SSSTree v2.0LCDP alfa 0.35
(b) Gauss Dimensi√≥n 10.
 19000
 20000
 21000
 22000
 23000
 24000
 25000
 26000
0.01 0.1 1
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=40000 Vectores Dim 20)
SSSTree v2.0 alfa 0.3
SSSTree v2.0LCDP alfa 0.3
(
) Ve
tores Dimensi√≥n 20.
 35000
 40000
 45000
 50000
0.1 1
Ev
al
ua
ci
on
es
 d
e 
Di
st
an
cia
Rango de B√∫squeda
Costo Promedio de B√∫squeda (n=1000 Vectores Dim 3084)
SSSTree v2.0 alfa 0.45
SSSTree v2.0LCDP alfa 0.45
(d) Gauss Dimensi√≥n 3084.
Figura 9. SSSTree: Gr√°
os 
omparativos para la b√∫squeda (SSSTree 2.0 v/s SSSTree 
on
Distan
ia al Padre y Propiedad de la Lista de Clusters).
Como se puede apre
iar en la gura 9 los resultados obtenidos en el 
aso de Gauss Dimensi√≥n 10
y Ve
tores de Dimensi√≥n 20 no var√≠an gran 
antidad en 
ompara
i√≥n a su implementa
i√≥n original.
Pero en el 
aso del Di

ionario Espa√±ol y sobre todo en el espa
io de Ve
tores de Dimensi√≥n
3084 se puede apre
iar una diferen
ia relevante en 
ompara
i√≥n a su versi√≥n anterior. Esto es
probablemente debido a que la dimensi√≥n intr√≠nse
a de √©stos dos √∫ltimos espa
ios es m√°s elevada.
4. Con
lusiones
4.1. Aspe
tos Relevantes y Aportes
Una buena ele

i√≥n de pivotes y 
entros durante la 
onstru

i√≥n de estru
turas m√©tri
as
siempre ser√° relevante para los pro
esos de b√∫squeda. Considerando que los mejores 
entros ser√°n
dependientes del espa
io, es ideal 
ontar 
on me
anismos que permitan re
ole
tar, independiente
de la forma del espa
io, la mejores alternativas de 
entros.
En este sentido, los autores 
onsideran que el m√©todo SSS permite, efe
tivamente, obtener un

onjunto ade
uado de 
entros, lo que queda demostrado 
laramente en el presente art√≠
ulo.
Se 
onsidera que el prin
ipal aporte del presente trabajo es desarrollar una alternativa de

onstru

i√≥n para el SSSTree, la 
ual permite disminuir los 
ostos durante el prepro
eso de datos
sin un aumento 
onsiderable en los 
ostos de b√∫squeda. La nueva versi√≥n de la estru
tura utiliza
de forma natural el m√©todo SSS durante el pro
eso de 
ontru

i√≥n. Adi
ionalmente, sobre la nueva
versi√≥n fueron apli
adas t√©
ni
as 
ono
idas en otras estru
turas. La primera fue la de mantener
la distan
ia al padre t√≠pi
amente utilizada en estru
turas basadas en pivotes. Tambi√©n fue posible
utilizar una de las propiedades de la estru
tura Lista de Clusters. Todo lo anterior provo
a que
la nueva versi√≥n de la estru
tura iguala o mejora el desempe√±o de los pro
esos de b√∫squeda en

ompara
i√≥n a la versi√≥n original 
omo se muestran en los gr√°
os de la se

i√≥n 3.6.
Los primeros resultados demuestran lo anterior y propor
ionan una visi√≥n de las enormes
ventajas frente a otras estru
turas que son prometedoras.
4.2. Trabajos Futuros
El dise√±o de esta nueva estru
tura trae 
onsigo desaos que requieren analisis y pruebas 
on
diferentes espa
ios m√©tri
os de baja 
omo alta dimensi√≥n, de an√°lisis de las 
apa
idades din√°mi
as,
del desempe√±o en memoria se
undaria, de las mejores alternativas de distribu
i√≥n de la estru
tura,

onsiderando su eje
u
i√≥n en paralelo, entre otros trabajos.
4.3. Agrade
imientos
Al laboratorio de Base de Datos de la Fa
ultad de Inform√°ti
a de la Universidad de la Coru√±a,
Espa√±a, en 
onjunto 
on quienes fue ini
ialmente propuesta la estru
tura.
Referen
ias
1. Sergei Brin. Near neighbor sear
h in large metri
 spa
es. In the 21st VLDB Conferen
e, pages 574584. Morgan Kaufmann
Publishers, 1995.
2. E. Chav√©z and G. Navarro. An ee
tive 
lustering algorithm to index high dimensional metri
 spa
es. In The 7th
International Symposium on String Pro
essing and Information Retrieval (SPIRE'2000), pages 7586. IEEE CS Press,
2000.
3. P. Cia

ia, M. Patella, and P. Zezula. M-tree : An e
ient a

ess method for similarity sear
h in metri
 spa
es. In the
23st International Conferen
e on VLDB, pages 426435, 1997.
4. F. Dehne and H. Noltemeier. Voronoi trees and 
lustering problems. Informations Systems, 12(2):171175, 1987.
5. H. Noltemeier. Voronoi trees and appli
ations. In International WorkShop on Dis
rete Algorithms and Complexity, pages
6974, Fukuoka, Japan, 1989.
6. H. Noltemeier, K. Verbarg, and C. Zirkelba
h. Monotonous bise
tor* trees - a tool for e
ient partitioning of 
omplex
s
hemes of geometri
 obje
t. In Data Stru
tures and E
ient Algorithms, LNCS 594, pages 186203, Springer-Verlag
1992.
7. Os
ar Pedreira and Nieves R. Brisaboa. Spatial sele
tion of sparse pivots for similarity sear
h in metri
 spa
es. In
SOFSEM 2007: 33rd Conferen
e on Current Trends in Theory and Pra
ti
e of Computer S
ien
e, volume 4362 of Le
ture
Notes in Computer S
ien
e, pages 434445, Harra
hov, Cze
h Republi
, January, 20-26 2007. Springer.
8. J. Uhlmann. Satisfying general proximity/similarity queries with metri
 trees. In Information Pro
essing Letters, pages
40:175179, 1991.
9. Roberto Uribe-Paredes. Manipula
i√≥n de estru
turas m√©tri
as en memoria se
undaria. Master's thesis, Fa
ultad de
Cien
ias F√≠si
as y Matem√°ti
as, Universidad de Chile, Santiago, Chile, Abril 2005.
